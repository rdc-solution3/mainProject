(function (win, ysp) {
  ysp.runtime.Model.extendLoadingModel({
    getData_control68_Flnbty: function (elem) {
      if (!elem) {
        return;
      }var iframe = $(elem).parent().next()[0].querySelector("iframe").contentWindow;if (!iframe) return;elem = iframe.document.querySelectorAll("fieldset")[1];var data = {};data.title = elem.querySelector("legend").textContent.trim();var toolbar = elem.querySelector(".mini-toolbar");var inputs = toolbar && toolbar.querySelectorAll("span.fake-batch");var buttons = toolbar && toolbar.querySelectorAll("a");var add = toolbar && toolbar.querySelector("#btnAdd");var remove = toolbar && toolbar.querySelector("#btnRemove");if (add) {
        var addActive = true;if ($(add).hasClass("mini-button-disabled") || add.style.display == "none") {
          addActive = false;
        }data.addActive = addActive;
      }if (remove) {
        var removeActive = true;if ($(remove).hasClass("mini-button-disabled") || remove.style.display == "none") {
          removeActive = false;
        }data.removeActive = removeActive;
      }var editwrap = elem.ownerDocument.querySelectorAll(".mini-grid-editwrap");if (editwrap && editwrap.length > 0) {
        var input = editwrap[editwrap.length - 1].querySelector("input[type=text]");if (!input) input = editwrap[editwrap.length - 1].querySelector("textarea");var value = input && input.value;if (value == "") value = " ";data.editValue = value;
      }var popup = elem.ownerDocument.querySelectorAll(".mini-popup");if (popup && popup.length > 0) {
        var checkbox = popup[popup.length - 1].querySelector(".mini-listbox");if (checkbox) {
          var trs = checkbox.querySelector(".mini-listbox-items").querySelector("tbody").children;var checkList = [];$.each(trs, function (index, item) {
            checkList.push(item.textContent.trim());
          });
        }data.checkList = checkList;
      }var columns_table = elem.querySelector(".mini-grid-viewport").querySelector(".mini-grid-columns").querySelector(".mini-grid-columns-view").querySelector("table");var data_table = elem.querySelector(".mini-grid-viewport").querySelector(".mini-grid-rows").querySelector(".mini-grid-rows-view").querySelector("table");var columns_tds = columns_table.querySelector("tbody").children[1].children;var data_trs = data_table.querySelector("tbody").children;var table_datas = [];for (var i = 1; i < data_trs.length; i++) {
        var tds = data_trs[i].children;var vals = [];$.each(tds, function (index, item) {
          var text = item.textContent.trim();var title = columns_tds[index].textContent.trim().replace("*", "");var editabled = false;if (title == "计划数量" || title == "计划进场时间" || title == "生产厂商" || title == "计重方式" || title == "承运数量" || title == "线路图" || title == "备注") {
            editabled = true;
          }var type = "input";if (title == "计划进场时间") {
            type = "date";
          }if (title == "计重方式") {
            type = "select";
          }if (title.length > 0) {
            vals.push({ title: title, val: text, num: index, type: type, editabled: editabled });
          }
        });table_datas.push(vals);
      }data.table = table_datas;return data;
    },
    doAction_uiControl56_70VqM1: function (data, elem) {
      var iframe = $(elem).parent().next()[0].querySelector("iframe").contentWindow;if (!iframe) return;elem = iframe.document.querySelectorAll("fieldset")[1];var data_table = elem.querySelector(".mini-grid-viewport").querySelector(".mini-grid-rows").querySelector(".mini-grid-rows-view").querySelector("table");var data_trs = data_table.querySelector("tbody").children;var _data = data.customData;var toolbar = elem.querySelector(".mini-toolbar");if (data.eventType == "addItem") {
        var add = toolbar.querySelector("#btnAdd");add && add.click();ysp.appMain.showLoading();
      }if (data.eventType == "chooseLine") {
        var target = data_trs[_data.index].children[_data.num];target.click();
      }if (data.eventType == "edit") {
        var target = data_trs[_data.index].children[_data.num];var _doc = elem.ownerDocument;var evt = _doc.createEvent("mouseEvents");evt.initEvent("mousedown", true, true);target.dispatchEvent(evt);setTimeout(function () {
          var evt3 = _doc.createEvent("mouseEvents");evt3.initEvent("mouseup", true, true);target.dispatchEvent(evt3);
        });
      }if (data.eventType == "changeEdit") {
        var editwrap = elem.ownerDocument.querySelectorAll(".mini-grid-editwrap");if (editwrap && editwrap.length > 0) {
          var input = editwrap[editwrap.length - 1].querySelector("input[type=text]");var textarea = editwrap[editwrap.length - 1].querySelector("textarea");if (input) {
            input.value = data.customData;
          } else if (textarea) {
            textarea.value = data.customData;
          }
        }
      }if (data.eventType == "deleteItem") {
        var target = data_trs[_data].querySelector(".mini-grid-checkbox");var _doc = elem.ownerDocument;var evt = _doc.createEvent("mouseEvents");evt.initEvent("mousedown", true, true);target.dispatchEvent(evt);setTimeout(function () {
          var evt3 = _doc.createEvent("mouseEvents");evt3.initEvent("mouseup", true, true);target.dispatchEvent(evt3);var remove = toolbar.querySelector("#btnRemove");remove && remove.click();
        });
      }if (data.eventType == "actionCheck") {
        var editwrap = elem.ownerDocument.querySelectorAll(".mini-grid-editwrap");if (editwrap && editwrap.length > 0) {
          var input = editwrap[editwrap.length - 1].querySelector("input[type=text]");if (!input) {
            input = editwrap[editwrap.length - 1].querySelector("textarea");
          }ysp.customHelper.fireKeyEvent(input, "keydown", 13);ysp.customHelper.fireKeyEvent(input, "keyup", 13);
        }
      }if (data.eventType == "cancel") {
        var target = elem.querySelector("legend");var _doc = elem.ownerDocument;var evt = _doc.createEvent("mouseEvents");evt.initEvent("mousedown", true, true);target.dispatchEvent(evt);var evt2 = _doc.createEvent("mouseEvents");evt2.initEvent("mouseup", true, true);target.dispatchEvent(evt2);
      }if (data.eventType == "clickCheckbox") {
        var editwrap = elem.ownerDocument.querySelectorAll(".mini-grid-editwrap");if (editwrap && editwrap.length > 0) {
          var input = editwrap[editwrap.length - 1].querySelector("input[type=text]");$(input).next().click();
        }
      }if (data.eventType == "clickCheckItem") {
        var popup = elem.ownerDocument.querySelectorAll(".mini-popup");if (popup && popup.length > 0) {
          var checkbox = popup[popup.length - 1].querySelector(".mini-listbox");if (checkbox) {
            var trs = checkbox.querySelector(".mini-listbox-items").querySelector("tbody").children;trs[data.customData].click();
          }
        }
      }
    },
    getTemplate_uiControl56_70VqM1: function () {
      var selfTemplate = "const Title = AMUI2.Title;\nconst Field = AMUI2.Field;\nmodule.exports = React.createClass({\n  getInitialState:function(){\n    return({\n      activeList:0,\n      showEditBox:false,\n      editType:\"input\",\n      editTitle:\"\",\n      editValue:\"\",\n      showCheckList:false,\n      editData:this.props.customData?this.props.customData.fills:[]\n    })\n  },\n  addItem:function(){\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:\"addItem\"\n      })\n    }\n  },\n  clickTitle:function(e){\n    var index = e.target.attributes[\"data-index\"].value;\n    this.setState({\n      activeList:this.state.activeList==index?0:index\n    })\n  },\n  deleteItem:function(e){\n    var index = e.target.attributes[\"data-index\"].value;\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:\"deleteItem\",\n        data:index\n      })\n    }\n    e.stopPropagation();\n  },\n  actionCheck:function(){\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:\"actionCheck\"\n      })\n    }\n    this.setState({\n      showEditBox:false\n    });\n    this.actionCancel();\n  },\n  actionCancel:function(){\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:\"cancel\"\n      })\n    }\n    this.setState({\n      showEditBox:false\n    })\n  },\n  chooseLine:function(e){\n    var index = e.target.attributes[\"data-index\"].value;\n    var num = e.target.attributes[\"data-num\"].value;\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:\"chooseLine\",\n        data:{\n          index:index,\n          num:num\n        }\n      })\n    }\n  },\n  edit:function(e){\n    var index = e.target.attributes[\"data-index\"].value;\n    var num = e.target.attributes[\"data-num\"].value;\n    var type = e.target.attributes[\"data-type\"].value;\n    var title = e.target.attributes[\"data-title\"].value;\n    var data = this.props.customData.table[index-1];\n    var fills = this.state.editData;\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:\"edit\",\n        data:{\n          index:index,\n          num:num\n        }\n      })\n    }\n    // for(var i=0;i<data.length;i++){\n    //   var title = data[i].title;\n    //   for(var j=0;j<fills.length;j++){\n    //     if(fills[j].placeholder==title){\n    //       fills[j].value = data[i].val;\n    //     }\n    //   }\n    // }\n    this.setState({\n      showEditBox:true,\n      editType:type,\n      editTitle:title,\n      editData:fills\n    });\n    e.stopPropagation();\n  },\n  changeEdit:function(e){\n    var handler = this.props.customHandler;\n    var value = e.target.value;\n    if(handler){\n      handler({\n        eventType:\"changeEdit\",\n        data:value\n      })\n    }\n  },\n  clearDate:function(e){\n    var handler = this.props.customHandler;\n    var value = \"\"\n    if(handler){\n      handler({\n        eventType:\"changeEdit\",\n        data:value\n      })\n    }\n  },\n  clickCheckbox:function(){\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:\"clickCheckbox\"\n      })\n    }\n    this.setState({\n      showCheckList:!this.state.showCheckList\n    })\n  },\n  clickCheckItem:function(e){\n    var index = e.target.attributes[\"data-index\"].value;\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:\"clickCheckItem\",\n        data:index\n      })\n    }\n    this.setState({\n      showCheckList:false\n    })\n  },\n  render: function() {\n    var data = this.props.customData;\n    var me = this;\n    if(!data){\n      return(<div></div>);\n    }\n    return(\n      <div style={{background: '#fff',marginTop: '10px', marginBottom: '10px',position:\"relative\",paddingBottom:\"20px\"}}>\n        <Title text={data.title} amStyle=\"primary\"></Title>\n\t\t\t\t<span className=\"btn btn-success btn-xs\" style={{display:data.addActive?\"\":\"none\",position:\"absolute\",right:0,top:\"10px\",borderRadius:\"5px\"}} onClick={me.addItem}>\u6DFB\u52A0\u660E\u7EC6</span>\n        <div style={{clear:\"both\"}}></div>\n        {data.table&&data.table.map(function(item,i){\n          return(\n            <div className=\"card dec-card\">\n              <div className=\"card-body\" style={{height:me.state.activeList==i+1?\"auto\":\"46px\"}}>\n                <ul className=\"list\" style={{margin:0}}>\n                  <li className=\"item\" data-index={i+1} onClick={me.clickTitle}>\n                    <div className=\"item-media\">\n                      {item[0].val}<span style={{color:\"#999\",margin:\"0 10px\"}}>|</span>\n                    </div>\n                    <div data-index={i+1} className=\"item-title\" style={{whiteSpace:\"nowrap\"}}>{item[1].val}</div>\n                    <div className=\"item-after\">\n                      <span style={{display:data.removeActive?\"\":\"none\"}} className=\"icon icon-close\" data-index={i+1} onClick={me.deleteItem}></span>\n                    </div>\n                  </li>\n                  {item.map(function(innerItem,j){\n                    if(j>1){\n                      return(\n                        <li className=\"item\">\n                          <div className=\"item-title\" style={{minWidth: \"4em\"}}>\n                            {innerItem.title}\n                          </div>\n                          <div className=\"item-after\" style={{lineHeight: 0}}>\n                            {innerItem.val}\n                            <span style={{display:innerItem.editabled?\"\":\"none\"}} data-title={innerItem.title} data-type={innerItem.type} data-index={i+1} data-num={innerItem.num} onClick={innerItem.title==\"\u7EBF\u8DEF\u56FE\"?me.chooseLine:me.edit} className=\"icon icon-edit-dec\"></span>\n                          </div>\n                        </li>\n                      )\n                    }\n                  })}\n                </ul>\n              </div>\n            </div>\n          )\n        })}\n        <span className=\"sg-search-box dec-edit\" style={{display:this.state.showEditBox?\"block\":\"none\"}}>\n          <div className=\"modal modal-alert\">\n            <div className=\"modal-inner\">\n              {this.state.showCheckList?\n              \t<div className=\"modal-dialog\">\n                  <div className=\"modal-body\">\n                    <ul className=\"list\">\n                      {data.checkList&&data.checkList.map(function(item,i){\n                        return(\n                        \t<li data-index={i} onClick={me.clickCheckItem} className=\"item\">\n                            <div data-index={i} className=\"item-title\">{item}</div>\n                          </li>\n                        )\n                        \n                      })}\n                    </ul>\n                  </div>\n                </div>:\n              \t<div className=\"modal-dialog\">\n                  <div className=\"modal-body\" style={{maxHeight:\"400px\",overflowY:\"auto\"}}>\n                    <ul className=\"list\">\n                      {data.editValue?this.state.editType==\"select\"?<li className=\"item item-input\">\n                        <div className=\"item-main\">\n                          <span className=\"field-container\">\n                            <span className=\"field-label\">{this.state.editTitle}</span>\n                            <div className=\"filed-box\" style={{position:\"relative\"}}>\n                              <input disabled onBlur={me.changeEdit} type=\"text\" value={data.editValue} className=\"field\" />\n                              <span onClick={me.clickCheckbox} className=\"icon icon-down-nav down-inset\"></span>\n                            </div>\n\n                          </span>\n                        </div>\n                      </li>:this.state.editType==\"date\"?\n                      <li className=\"item item-input\">\n                        <div className=\"item-main\">\n                          <span className=\"field-container\">\n                            <span className=\"field-label\">{this.state.editTitle}</span>\n                            <div className=\"filed-box date-time\">\n\n                              <Field className=\"dateTime\" onBlur={me.changeEdit} type=\"date\" value={data.editValue} single />\n                              <span onClick={data.editValue?me.clearDate:\"\"} className={data.editValue?\"icon icon-close down-inset\":\"icon icon-date down-inset\"}></span>\n                            </div>\n\n                          </span>\n                        </div>\n                      </li>:\n                      <li className=\"item item-input\">\n                        <div className=\"item-main\">\n                          <span className=\"field-container\">\n                            <span className=\"field-label\">{this.state.editTitle}</span>\n                            <div className=\"filed-box\">\n                              <Field onBlur={me.changeEdit} type=\"text\" value={data.editValue||\"\"} className=\"field\" />\n                            </div>\n\n                          </span>\n                        </div>\n                      </li>:\n                      <li className=\"item item-input\">\n                        <div className=\"item-main\">\n                          \u6B64\u9879\u4E0D\u53EF\u7F16\u8F91\n                        </div>\n                      </li>\n                      }\n                    </ul>\n                  </div>\n                  <div className=\"modal-footer\">\n                    <span className=\"modal-btn\" onClick={me.actionCheck}>\u786E\u5B9A</span>\n                    <span className=\"modal-btn\" onClick={me.actionCancel}>\u53D6\u6D88</span>\n\n                  </div>\n                </div>\n              }\n\n              \n            </div>\n          </div>\n          <div className=\"modal-backdrop active\" style={{height:\"100%\"}}></div>\n        </span>\n      </div>\n    )\n  }\n});";
      return "\"use strict\";\n\nvar Title = AMUI2.Title;\nvar Field = AMUI2.Field;\nmodule.exports = React.createClass({\n  displayName: \"exports\",\n\n  getInitialState: function getInitialState() {\n    return {\n      activeList: 0,\n      showEditBox: false,\n      editType: \"input\",\n      editTitle: \"\",\n      editValue: \"\",\n      showCheckList: false,\n      editData: this.props.customData ? this.props.customData.fills : []\n    };\n  },\n  addItem: function addItem() {\n    var handler = this.props.customHandler;\n    if (handler) {\n      handler({\n        eventType: \"addItem\"\n      });\n    }\n  },\n  clickTitle: function clickTitle(e) {\n    var index = e.target.attributes[\"data-index\"].value;\n    this.setState({\n      activeList: this.state.activeList == index ? 0 : index\n    });\n  },\n  deleteItem: function deleteItem(e) {\n    var index = e.target.attributes[\"data-index\"].value;\n    var handler = this.props.customHandler;\n    if (handler) {\n      handler({\n        eventType: \"deleteItem\",\n        data: index\n      });\n    }\n    e.stopPropagation();\n  },\n  actionCheck: function actionCheck() {\n    var handler = this.props.customHandler;\n    if (handler) {\n      handler({\n        eventType: \"actionCheck\"\n      });\n    }\n    this.setState({\n      showEditBox: false\n    });\n    this.actionCancel();\n  },\n  actionCancel: function actionCancel() {\n    var handler = this.props.customHandler;\n    if (handler) {\n      handler({\n        eventType: \"cancel\"\n      });\n    }\n    this.setState({\n      showEditBox: false\n    });\n  },\n  chooseLine: function chooseLine(e) {\n    var index = e.target.attributes[\"data-index\"].value;\n    var num = e.target.attributes[\"data-num\"].value;\n    var handler = this.props.customHandler;\n    if (handler) {\n      handler({\n        eventType: \"chooseLine\",\n        data: {\n          index: index,\n          num: num\n        }\n      });\n    }\n  },\n  edit: function edit(e) {\n    var index = e.target.attributes[\"data-index\"].value;\n    var num = e.target.attributes[\"data-num\"].value;\n    var type = e.target.attributes[\"data-type\"].value;\n    var title = e.target.attributes[\"data-title\"].value;\n    var data = this.props.customData.table[index - 1];\n    var fills = this.state.editData;\n    var handler = this.props.customHandler;\n    if (handler) {\n      handler({\n        eventType: \"edit\",\n        data: {\n          index: index,\n          num: num\n        }\n      });\n    }\n    // for(var i=0;i<data.length;i++){\n    //   var title = data[i].title;\n    //   for(var j=0;j<fills.length;j++){\n    //     if(fills[j].placeholder==title){\n    //       fills[j].value = data[i].val;\n    //     }\n    //   }\n    // }\n    this.setState({\n      showEditBox: true,\n      editType: type,\n      editTitle: title,\n      editData: fills\n    });\n    e.stopPropagation();\n  },\n  changeEdit: function changeEdit(e) {\n    var handler = this.props.customHandler;\n    var value = e.target.value;\n    if (handler) {\n      handler({\n        eventType: \"changeEdit\",\n        data: value\n      });\n    }\n  },\n  clearDate: function clearDate(e) {\n    var handler = this.props.customHandler;\n    var value = \"\";\n    if (handler) {\n      handler({\n        eventType: \"changeEdit\",\n        data: value\n      });\n    }\n  },\n  clickCheckbox: function clickCheckbox() {\n    var handler = this.props.customHandler;\n    if (handler) {\n      handler({\n        eventType: \"clickCheckbox\"\n      });\n    }\n    this.setState({\n      showCheckList: !this.state.showCheckList\n    });\n  },\n  clickCheckItem: function clickCheckItem(e) {\n    var index = e.target.attributes[\"data-index\"].value;\n    var handler = this.props.customHandler;\n    if (handler) {\n      handler({\n        eventType: \"clickCheckItem\",\n        data: index\n      });\n    }\n    this.setState({\n      showCheckList: false\n    });\n  },\n  render: function render() {\n    var data = this.props.customData;\n    var me = this;\n    if (!data) {\n      return React.createElement(\"div\", null);\n    }\n    return React.createElement(\n      \"div\",\n      { style: { background: '#fff', marginTop: '10px', marginBottom: '10px', position: \"relative\", paddingBottom: \"20px\" } },\n      React.createElement(Title, { text: data.title, amStyle: \"primary\" }),\n      React.createElement(\n        \"span\",\n        { className: \"btn btn-success btn-xs\", style: { display: data.addActive ? \"\" : \"none\", position: \"absolute\", right: 0, top: \"10px\", borderRadius: \"5px\" }, onClick: me.addItem },\n        \"\\u6DFB\\u52A0\\u660E\\u7EC6\"\n      ),\n      React.createElement(\"div\", { style: { clear: \"both\" } }),\n      data.table && data.table.map(function (item, i) {\n        return React.createElement(\n          \"div\",\n          { className: \"card dec-card\" },\n          React.createElement(\n            \"div\",\n            { className: \"card-body\", style: { height: me.state.activeList == i + 1 ? \"auto\" : \"46px\" } },\n            React.createElement(\n              \"ul\",\n              { className: \"list\", style: { margin: 0 } },\n              React.createElement(\n                \"li\",\n                { className: \"item\", \"data-index\": i + 1, onClick: me.clickTitle },\n                React.createElement(\n                  \"div\",\n                  { className: \"item-media\" },\n                  item[0].val,\n                  React.createElement(\n                    \"span\",\n                    { style: { color: \"#999\", margin: \"0 10px\" } },\n                    \"|\"\n                  )\n                ),\n                React.createElement(\n                  \"div\",\n                  { \"data-index\": i + 1, className: \"item-title\", style: { whiteSpace: \"nowrap\" } },\n                  item[1].val\n                ),\n                React.createElement(\n                  \"div\",\n                  { className: \"item-after\" },\n                  React.createElement(\"span\", { style: { display: data.removeActive ? \"\" : \"none\" }, className: \"icon icon-close\", \"data-index\": i + 1, onClick: me.deleteItem })\n                )\n              ),\n              item.map(function (innerItem, j) {\n                if (j > 1) {\n                  return React.createElement(\n                    \"li\",\n                    { className: \"item\" },\n                    React.createElement(\n                      \"div\",\n                      { className: \"item-title\", style: { minWidth: \"4em\" } },\n                      innerItem.title\n                    ),\n                    React.createElement(\n                      \"div\",\n                      { className: \"item-after\", style: { lineHeight: 0 } },\n                      innerItem.val,\n                      React.createElement(\"span\", { style: { display: innerItem.editabled ? \"\" : \"none\" }, \"data-title\": innerItem.title, \"data-type\": innerItem.type, \"data-index\": i + 1, \"data-num\": innerItem.num, onClick: innerItem.title == \"\u7EBF\u8DEF\u56FE\" ? me.chooseLine : me.edit, className: \"icon icon-edit-dec\" })\n                    )\n                  );\n                }\n              })\n            )\n          )\n        );\n      }),\n      React.createElement(\n        \"span\",\n        { className: \"sg-search-box dec-edit\", style: { display: this.state.showEditBox ? \"block\" : \"none\" } },\n        React.createElement(\n          \"div\",\n          { className: \"modal modal-alert\" },\n          React.createElement(\n            \"div\",\n            { className: \"modal-inner\" },\n            this.state.showCheckList ? React.createElement(\n              \"div\",\n              { className: \"modal-dialog\" },\n              React.createElement(\n                \"div\",\n                { className: \"modal-body\" },\n                React.createElement(\n                  \"ul\",\n                  { className: \"list\" },\n                  data.checkList && data.checkList.map(function (item, i) {\n                    return React.createElement(\n                      \"li\",\n                      { \"data-index\": i, onClick: me.clickCheckItem, className: \"item\" },\n                      React.createElement(\n                        \"div\",\n                        { \"data-index\": i, className: \"item-title\" },\n                        item\n                      )\n                    );\n                  })\n                )\n              )\n            ) : React.createElement(\n              \"div\",\n              { className: \"modal-dialog\" },\n              React.createElement(\n                \"div\",\n                { className: \"modal-body\", style: { maxHeight: \"400px\", overflowY: \"auto\" } },\n                React.createElement(\n                  \"ul\",\n                  { className: \"list\" },\n                  data.editValue ? this.state.editType == \"select\" ? React.createElement(\n                    \"li\",\n                    { className: \"item item-input\" },\n                    React.createElement(\n                      \"div\",\n                      { className: \"item-main\" },\n                      React.createElement(\n                        \"span\",\n                        { className: \"field-container\" },\n                        React.createElement(\n                          \"span\",\n                          { className: \"field-label\" },\n                          this.state.editTitle\n                        ),\n                        React.createElement(\n                          \"div\",\n                          { className: \"filed-box\", style: { position: \"relative\" } },\n                          React.createElement(\"input\", { disabled: true, onBlur: me.changeEdit, type: \"text\", value: data.editValue, className: \"field\" }),\n                          React.createElement(\"span\", { onClick: me.clickCheckbox, className: \"icon icon-down-nav down-inset\" })\n                        )\n                      )\n                    )\n                  ) : this.state.editType == \"date\" ? React.createElement(\n                    \"li\",\n                    { className: \"item item-input\" },\n                    React.createElement(\n                      \"div\",\n                      { className: \"item-main\" },\n                      React.createElement(\n                        \"span\",\n                        { className: \"field-container\" },\n                        React.createElement(\n                          \"span\",\n                          { className: \"field-label\" },\n                          this.state.editTitle\n                        ),\n                        React.createElement(\n                          \"div\",\n                          { className: \"filed-box date-time\" },\n                          React.createElement(Field, { className: \"dateTime\", onBlur: me.changeEdit, type: \"date\", value: data.editValue, single: true }),\n                          React.createElement(\"span\", { onClick: data.editValue ? me.clearDate : \"\", className: data.editValue ? \"icon icon-close down-inset\" : \"icon icon-date down-inset\" })\n                        )\n                      )\n                    )\n                  ) : React.createElement(\n                    \"li\",\n                    { className: \"item item-input\" },\n                    React.createElement(\n                      \"div\",\n                      { className: \"item-main\" },\n                      React.createElement(\n                        \"span\",\n                        { className: \"field-container\" },\n                        React.createElement(\n                          \"span\",\n                          { className: \"field-label\" },\n                          this.state.editTitle\n                        ),\n                        React.createElement(\n                          \"div\",\n                          { className: \"filed-box\" },\n                          React.createElement(Field, { onBlur: me.changeEdit, type: \"text\", value: data.editValue || \"\", className: \"field\" })\n                        )\n                      )\n                    )\n                  ) : React.createElement(\n                    \"li\",\n                    { className: \"item item-input\" },\n                    React.createElement(\n                      \"div\",\n                      { className: \"item-main\" },\n                      \"\\u6B64\\u9879\\u4E0D\\u53EF\\u7F16\\u8F91\"\n                    )\n                  )\n                )\n              ),\n              React.createElement(\n                \"div\",\n                { className: \"modal-footer\" },\n                React.createElement(\n                  \"span\",\n                  { className: \"modal-btn\", onClick: me.actionCheck },\n                  \"\\u786E\\u5B9A\"\n                ),\n                React.createElement(\n                  \"span\",\n                  { className: \"modal-btn\", onClick: me.actionCancel },\n                  \"\\u53D6\\u6D88\"\n                )\n              )\n            )\n          )\n        ),\n        React.createElement(\"div\", { className: \"modal-backdrop active\", style: { height: \"100%\" } })\n      )\n    );\n  }\n});";
    },
    getData_control64_STsAtT: function (elem) {
      if (!elem) {
        return;
      }var wins = $(elem).children(".mini-window");var target = wins[wins.length - 1].querySelector(".mini-panel-header-inner");return target.querySelector(".mini-panel-title").textContent;
    },
    doAction_uiControl57_P84O38: function (data, elem) {
      if (data.eventType == "back") {
        var wins = $(elem).children(".mini-window");var target = wins[wins.length - 1].querySelector(".mini-panel-header-inner");target.querySelector(".mini-tools-close").click();
      }if (data.eventType == "action") {
        var wins = $(elem).children(".mini-window");var target = wins[wins.length - 1].querySelector(".mini-panel-header-inner");var next = $(target).parent().next()[0].querySelector("iframe").contentWindow.document;if (next) {
          var buttons = next.querySelector(".mini-toolbar").querySelectorAll("a.mini-button");$.each(buttons, function (index, item) {
            if (item.textContent.trim() == "确定") {
              item.click();
            }
          });
        }
      }
    },
    getTemplate_uiControl57_P84O38: function () {
      var selfTemplate = "import { Header, HeaderLeft, HeaderRight } from 'ysp-interior-components';\nmodule.exports = React.createClass({\n  back:function(){\n    var handler=this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:\"back\"\n      })\n    }\n  },\n  action:function(){\n    var handler=this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:\"action\"\n      })\n    }\n  },\n  render: function() {\n    var data = this.props.customData;\n    return (\n      <Header amStyle=\"primary\" title={data}>\n        <HeaderLeft>\n          <AMUI.Button amStyle=\"primary\" style={{ margin: 0 }} onClick={this.back}><span className=\"icon icon-left-nav\"></span>\u8FD4\u56DE</AMUI.Button>\n        </HeaderLeft>\n        <HeaderRight>\n        </HeaderRight>\n      </Header>\n    );\n  }\n});";
      return "\"use strict\";\n\nvar _yspInteriorComponents = require(\"ysp-interior-components\");\n\nmodule.exports = React.createClass({\n  displayName: \"exports\",\n\n  back: function back() {\n    var handler = this.props.customHandler;\n    if (handler) {\n      handler({\n        eventType: \"back\"\n      });\n    }\n  },\n  action: function action() {\n    var handler = this.props.customHandler;\n    if (handler) {\n      handler({\n        eventType: \"action\"\n      });\n    }\n  },\n  render: function render() {\n    var data = this.props.customData;\n    return React.createElement(\n      _yspInteriorComponents.Header,\n      { amStyle: \"primary\", title: data },\n      React.createElement(\n        _yspInteriorComponents.HeaderLeft,\n        null,\n        React.createElement(\n          AMUI.Button,\n          { amStyle: \"primary\", style: { margin: 0 }, onClick: this.back },\n          React.createElement(\"span\", { className: \"icon icon-left-nav\" }),\n          \"\\u8FD4\\u56DE\"\n        )\n      ),\n      React.createElement(_yspInteriorComponents.HeaderRight, null)\n    );\n  }\n});";
    },
    getData_control149_9oFaWT: function (elem) {
      if (!elem) {
        return;
      }var wins = $(elem).children(".mini-window");var target = wins[wins.length - 1].querySelector(".mini-panel-header-inner");var iframe = $(target).parent().next()[0].querySelector("iframe").contentWindow;if (!iframe) return;elem = iframe.document.querySelectorAll("fieldset")[0];var tds = elem.querySelectorAll("td");var data = [{ title: "基本信息", kvals: [] }];for (var i = 0; i < tds.length; i++) {
        if (!tds[i].attributes["align"]) continue;if (tds[i].attributes["align"].value == "right") {
          if (tds[i].textContent.trim() == "附件：") {
            var obj = { title: "附件", index: i, kvals: [] };var filesbox = $(tds[i]).next()[0];if (filesbox.querySelector(".webuploader-pick")) {
              obj.canUpload = true;
            }var fileList = filesbox.querySelector(".filelist") && filesbox.querySelector(".filelist").children;if (fileList && fileList.length > 0) {
              var files = [];$.each(fileList, function (index, item) {
                var file = {};var linka = item.querySelectorAll("a")[0];if (linka.href == "javascript:void(0);") {
                  var str = linka.attributes["onclick"].value;file.url = str.split("'")[1];
                } else {
                  var str = linka.href;file.url = "/down/" + str.split("/down/")[1];
                }file.name = linka.textContent;file.type = file.name.split(".")[1].toLowerCase();file.hasDelect = item.querySelectorAll("a")[1] ? true : false;files.push(file);
              });obj.kvals = files;
            }data.push(obj);
          } else {
            var title = tds[i].textContent.trim().replace("*", "").replace("：", "");if (!title || title == "") continue;data[0].kvals.push({ title: title });var next = $(tds[i]).next()[0];var valbox = next && next.querySelector("span");var input = next && next.querySelector("input[type=text]");var textarea = next && next.querySelector("textarea");var target = data[0].kvals[data[0].kvals.length - 1];if (input) {
              if (!$(valbox).hasClass("mini-buttonedit-disabled") && valbox.querySelector(".mini-buttonedit-button")) {
                target.hasClick = true;
              }if (next.querySelector("#searchBtn")) {
                target.hasSearch = true;
              }target.val = input.value;target.type = "input";target.index = i;target.isDisabled = input.attributes["disabled"] ? true : false;target.placeholder = input.placeholder;
            } else if (textarea) {
              target.val = textarea.value;target.type = "textarea";target.index = i;target.isDisabled = textarea.attributes["disabled"] ? true : false;target.placeholder = textarea.placeholder;
            } else {
              target.val = tds[i].textContent.trim();
            }
          }
        }
      }return data;
    },
    doAction_uiControl135_WeB92M: function (data, elem) {
      var iframe = $(elem).parent().next()[0].querySelector("iframe").contentWindow;if (!iframe) return;elem = iframe.document.querySelectorAll("fieldset")[0];var tds = elem.querySelectorAll("td");var index = data.customData.index;var val = data.customData.val;var _doc = elem.ownerDocument;var url = _doc.defaultView.location.origin;if (data.eventType == "changeInput") {
        $(tds[index]).next().find("input[type=text]").val(val);$(tds[index]).next().find("input[type=hidden]").val(val);
      }if (data.eventType == "changeTextarea") {
        $(tds[index]).next().find("textarea").val(val);
      }if (data.eventType == "uploadFile") {
        var input = $(tds[index]).next().find("input[type=file]");input[0].click();
      }if (data.eventType == "delectFile") {
        var list = $(tds[index]).next().find(".filelist").children();list[data.customData.num].querySelectorAll("a")[1].click();
      }if (data.eventType == "viewFile") {
        ysp.appMain.openDocument({ "type": "document", "downloadType": "get", "downloadUrl": url + data.customData });
      }if (data.eventType == "selectProject") {
        var next = $(tds[index]).next()[0];var el = next.querySelector(".mini-buttonedit-button");var evt = _doc.createEvent("mouseEvents");evt.initEvent("mousedown", true, true);el.dispatchEvent(evt);var evt2 = _doc.createEvent("mouseEvents");evt2.initEvent("mouseup", true, true);el.dispatchEvent(evt2);next.querySelector("span").click();$(el).trigger("click");ysp.appMain.showLoading();return;
      }if (data.eventType == "checkProject") {
        var next = $(tds[index]).next()[0];next.querySelector("#searchBtn").click();ysp.appMain.showLoading();
      }if (data.eventType == "mount") {
        ysp.appMain.hideLoading();
      }
    },
    getTemplate_uiControl135_WeB92M: function () {
      var selfTemplate = "const Title = AMUI2.Title;\nconst Field = AMUI2.Field;\nconst Container = AMUI2.Container;\nconst Button = AMUI2.Button;\nconst Group = AMUI2.Group;\nconst Icon = AMUI2.Icon;\n\nmodule.exports = React.createClass({\n  componentDidMount1:function(){\n    var handler=this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:\"mount\"\n      })\n    }\n  },\n  changeTextarea:function(e){\n    var index = e.target.attributes[\"data-index\"].value;\n    var val = e.target.value;\n    var handler=this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:\"changeTextarea\",\n        data:{\n          index:index,\n          val:val\n        }\n      })\n    }\n  },\n  changeInput:function(e){\n    var index = e.target.attributes[\"data-index\"].value;\n    var val = e.target.value;\n    var handler=this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:\"changeInput\",\n        data:{\n          index:index,\n          val:val\n        }\n      })\n    }\n  },\n  uploadFile:function(e){\n    var index = e.target.attributes[\"data-index\"].value;\n    var handler=this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:\"uploadFile\",\n        data:{\n          index:index\n        }\n      })\n    }\n  },\n  delectFile:function(e){\n    var index = e.target.attributes[\"data-index\"].value;\n    var num = e.target.attributes[\"data-num\"].value;\n    var handler=this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:\"delectFile\",\n        data:{\n          index:index,\n          num:num\n        }\n      })\n    }\n  },\n  viewFile:function(e){\n    var url = e.target.attributes[\"data-url\"].value;\n    var handler=this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:\"viewFile\",\n        data:url\n      })\n    }\n  },\n  selectProject:function(e){\n    var index = e.target.attributes[\"data-index\"].value;\n    var handler=this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:\"selectProject\",\n        data:{\n          index:index\n        }\n      })\n    }\n  },\n  checkProject:function(e){\n    var index = e.target.attributes[\"data-index\"].value;\n    var handler=this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:\"checkProject\",\n        data:{\n          index:index\n        }\n      })\n    }\n  },\n  render: function() {\n    var me=this;\n    var data=this.props.customData;\n    return (\n      <Container>\n        {data&&data.map(function(item,i){\n          if(item.title==\"\u9644\u4EF6\"){\n            return(\n            \t<div style={{background: '#fff',marginTop: '10px', marginBottom: '10px',position:\"relative\",paddingBottom:\"20px\"}}>\n                <Title text={item.title} amStyle=\"primary\"></Title>\n                {item.canUpload?\n                \t<a className=\"icon icon-upload\" data-index={item.index} onClick={me.uploadFile}></a>:undefined\n                }\n                \n                  {item.kvals.length>0?item.kvals.map(function(innerItem,j){\n                    return(\n                      <div className=\"card dec-card\">\n                        <div className=\"card-body\">\n                          <ul className=\"list\" style={{margin:0}}>\n                            <li className=\"item\">\n                              <div className=\"item-media\">\n                                <span className={\"icon icon-file icon-\"+innerItem.type}></span>\n                              </div>\n                              <div data-url={innerItem.url} onClick={me.viewFile} className=\"item-title\">{innerItem.name}</div>\n                              <div className=\"item-after\" style={{display:innerItem.hasDelect?\"\":\"none\"}}>\n                                <span style={{display:innerItem.hasDelect?\"\":\"none\"}} data-index={item.index} data-num={j} onClick={me.delectFile} className=\"icon icon-close\"></span>\n                              </div>\n                            </li>\n                          </ul>\n                        </div>\n                      </div>\n                    )\n                  }):<div style={{padding:\"5px 15px\"}}>\u6682\u65E0\u9644\u4EF6</div>}\n              </div>\n            )\n          }\n          return(\n            <div style={{background: '#fff',marginTop: '10px', marginBottom: '10px'}}>\n              <Title text={item.title} amStyle=\"primary\"></Title>\n              {item.kvals.map(function(innerItem,j){\n                if(innerItem.type==\"textarea\"){\n                  return(\n                \t\t<Field data-index={innerItem.index} onBlur={me.changeTextarea} label={innerItem.title} single={true} type=\"textarea\" defaultValue={innerItem.val} disabled={innerItem.isDisabled} />\n                  )\n                }\n                if(innerItem.hasSearch){\n                  return(\n                    <Group className=\"dec-group\">\n                      <div className=\"cover\" data-index={innerItem.index} onClick={innerItem.hasClick?me.selectProject:undefined}></div>\n                      <Field placeholder={innerItem.placeholder} data-index={innerItem.index} onBlur={me.changeInput} labelBefore={<div style={{width:\"4em\"}}>{innerItem.title}</div>} single={true} value={innerItem.val} disabled={innerItem.isDisabled} labelAfter={<Icon data-index={innerItem.index} onClick={me.checkProject} name=\"search\" />} />\n                    </Group>\n                  )\n                }\n                return(\n                   <Group className=\"dec-group\">\n                    <Field placeholder={innerItem.placeholder} data-index={innerItem.index} onBlur={me.changeInput} labelBefore={<div style={{width:\"4em\"}}>{innerItem.title}</div>} single={true} value={innerItem.val} disabled={innerItem.isDisabled} />\n                  </Group>\n                )\n                \n              })}\n              \n            </div>\n          )\n        })}\n      </Container>\n    )\n  }\n});";
      return "\"use strict\";\n\nvar Title = AMUI2.Title;\nvar Field = AMUI2.Field;\nvar Container = AMUI2.Container;\nvar Button = AMUI2.Button;\nvar Group = AMUI2.Group;\nvar Icon = AMUI2.Icon;\n\nmodule.exports = React.createClass({\n  displayName: \"exports\",\n\n  componentDidMount1: function componentDidMount1() {\n    var handler = this.props.customHandler;\n    if (handler) {\n      handler({\n        eventType: \"mount\"\n      });\n    }\n  },\n  changeTextarea: function changeTextarea(e) {\n    var index = e.target.attributes[\"data-index\"].value;\n    var val = e.target.value;\n    var handler = this.props.customHandler;\n    if (handler) {\n      handler({\n        eventType: \"changeTextarea\",\n        data: {\n          index: index,\n          val: val\n        }\n      });\n    }\n  },\n  changeInput: function changeInput(e) {\n    var index = e.target.attributes[\"data-index\"].value;\n    var val = e.target.value;\n    var handler = this.props.customHandler;\n    if (handler) {\n      handler({\n        eventType: \"changeInput\",\n        data: {\n          index: index,\n          val: val\n        }\n      });\n    }\n  },\n  uploadFile: function uploadFile(e) {\n    var index = e.target.attributes[\"data-index\"].value;\n    var handler = this.props.customHandler;\n    if (handler) {\n      handler({\n        eventType: \"uploadFile\",\n        data: {\n          index: index\n        }\n      });\n    }\n  },\n  delectFile: function delectFile(e) {\n    var index = e.target.attributes[\"data-index\"].value;\n    var num = e.target.attributes[\"data-num\"].value;\n    var handler = this.props.customHandler;\n    if (handler) {\n      handler({\n        eventType: \"delectFile\",\n        data: {\n          index: index,\n          num: num\n        }\n      });\n    }\n  },\n  viewFile: function viewFile(e) {\n    var url = e.target.attributes[\"data-url\"].value;\n    var handler = this.props.customHandler;\n    if (handler) {\n      handler({\n        eventType: \"viewFile\",\n        data: url\n      });\n    }\n  },\n  selectProject: function selectProject(e) {\n    var index = e.target.attributes[\"data-index\"].value;\n    var handler = this.props.customHandler;\n    if (handler) {\n      handler({\n        eventType: \"selectProject\",\n        data: {\n          index: index\n        }\n      });\n    }\n  },\n  checkProject: function checkProject(e) {\n    var index = e.target.attributes[\"data-index\"].value;\n    var handler = this.props.customHandler;\n    if (handler) {\n      handler({\n        eventType: \"checkProject\",\n        data: {\n          index: index\n        }\n      });\n    }\n  },\n  render: function render() {\n    var me = this;\n    var data = this.props.customData;\n    return React.createElement(\n      Container,\n      null,\n      data && data.map(function (item, i) {\n        if (item.title == \"\u9644\u4EF6\") {\n          return React.createElement(\n            \"div\",\n            { style: { background: '#fff', marginTop: '10px', marginBottom: '10px', position: \"relative\", paddingBottom: \"20px\" } },\n            React.createElement(Title, { text: item.title, amStyle: \"primary\" }),\n            item.canUpload ? React.createElement(\"a\", { className: \"icon icon-upload\", \"data-index\": item.index, onClick: me.uploadFile }) : undefined,\n            item.kvals.length > 0 ? item.kvals.map(function (innerItem, j) {\n              return React.createElement(\n                \"div\",\n                { className: \"card dec-card\" },\n                React.createElement(\n                  \"div\",\n                  { className: \"card-body\" },\n                  React.createElement(\n                    \"ul\",\n                    { className: \"list\", style: { margin: 0 } },\n                    React.createElement(\n                      \"li\",\n                      { className: \"item\" },\n                      React.createElement(\n                        \"div\",\n                        { className: \"item-media\" },\n                        React.createElement(\"span\", { className: \"icon icon-file icon-\" + innerItem.type })\n                      ),\n                      React.createElement(\n                        \"div\",\n                        { \"data-url\": innerItem.url, onClick: me.viewFile, className: \"item-title\" },\n                        innerItem.name\n                      ),\n                      React.createElement(\n                        \"div\",\n                        { className: \"item-after\", style: { display: innerItem.hasDelect ? \"\" : \"none\" } },\n                        React.createElement(\"span\", { style: { display: innerItem.hasDelect ? \"\" : \"none\" }, \"data-index\": item.index, \"data-num\": j, onClick: me.delectFile, className: \"icon icon-close\" })\n                      )\n                    )\n                  )\n                )\n              );\n            }) : React.createElement(\n              \"div\",\n              { style: { padding: \"5px 15px\" } },\n              \"\\u6682\\u65E0\\u9644\\u4EF6\"\n            )\n          );\n        }\n        return React.createElement(\n          \"div\",\n          { style: { background: '#fff', marginTop: '10px', marginBottom: '10px' } },\n          React.createElement(Title, { text: item.title, amStyle: \"primary\" }),\n          item.kvals.map(function (innerItem, j) {\n            if (innerItem.type == \"textarea\") {\n              return React.createElement(Field, { \"data-index\": innerItem.index, onBlur: me.changeTextarea, label: innerItem.title, single: true, type: \"textarea\", defaultValue: innerItem.val, disabled: innerItem.isDisabled });\n            }\n            if (innerItem.hasSearch) {\n              return React.createElement(\n                Group,\n                { className: \"dec-group\" },\n                React.createElement(\"div\", { className: \"cover\", \"data-index\": innerItem.index, onClick: innerItem.hasClick ? me.selectProject : undefined }),\n                React.createElement(Field, { placeholder: innerItem.placeholder, \"data-index\": innerItem.index, onBlur: me.changeInput, labelBefore: React.createElement(\n                    \"div\",\n                    { style: { width: \"4em\" } },\n                    innerItem.title\n                  ), single: true, value: innerItem.val, disabled: innerItem.isDisabled, labelAfter: React.createElement(Icon, { \"data-index\": innerItem.index, onClick: me.checkProject, name: \"search\" }) })\n              );\n            }\n            return React.createElement(\n              Group,\n              { className: \"dec-group\" },\n              React.createElement(Field, { placeholder: innerItem.placeholder, \"data-index\": innerItem.index, onBlur: me.changeInput, labelBefore: React.createElement(\n                  \"div\",\n                  { style: { width: \"4em\" } },\n                  innerItem.title\n                ), single: true, value: innerItem.val, disabled: innerItem.isDisabled })\n            );\n          })\n        );\n      })\n    );\n  }\n});";
    }
  });
})(window, ysp);